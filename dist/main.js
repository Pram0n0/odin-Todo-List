(()=>{"use strict";function e(e,t){return{projectName:e,tasks:t}}let t=[];t.push(e("Default",[]));const n=document.querySelector(".taskItems"),o=document.querySelector(".projectList"),c=document.querySelector(".addProjectForm"),r=document.querySelector("#showProjectFormBtn"),a=document.querySelector("#cancelAddProjectBtn");let l=document.querySelector("#projectName"),u="Default";function i(){l.value="",c.style.display="none"}function d(e){const t=document.createElement("button");t.textContent=e.projectName,t.classList.add("project-button"),o.appendChild(t)}function s(){document.querySelectorAll(".project-button").forEach((e=>{e.addEventListener("click",(()=>{u=e.textContent,console.log(`Project button clicked: ${u}`),D.value=u,p(u)}))}))}function p(e){for(let n=0;n<t.length;n++)e==t[n].projectName&&T(t[n].tasks)}const m=document.querySelector(".addTaskForm"),y=document.querySelector("#showTaskFormBtn"),k=document.querySelector("#cancelAddTaskBtn"),v=document.querySelector(".editTaskForm"),f=document.querySelector("#cancelEditTaskBtn");let q=document.querySelector("#taskName"),L=document.querySelector("#dueDate"),S=document.querySelector("#priority"),j=document.querySelector("#description"),D=document.querySelector("#project"),E=document.querySelector("#taskName2"),h=document.querySelector("#dueDate2"),b=document.querySelector("#priority2"),N=document.querySelector("#description2");function $(){q.value="",L.value="",S.value="Medium",m.style.display="none"}function g(e){const t=document.createElement("div");t.classList.add("card"),t.classList.add(`${e.project}-task`),t.innerHTML=`\n        <h2>${e.taskName}</h2>\n        <p>Due Date: ${e.dueDate}</p>\n        <p>Priority: ${e.priority}</p>\n    `;const o=document.createElement("div");o.classList.add("modal"),o.innerHTML=`\n        <h2>${e.taskName}</h2>\n        <p>Due Date: ${e.dueDate}</p>\n        <p>Priority: ${e.priority}</p>\n        <p>Description: ${e.description}</p>\n        <p>Project: ${e.project}</p>\n        <button class="edit-task-button">Edit</button>\n    `,t.addEventListener("click",(()=>{o.style.display="block"})),o.addEventListener("click",(t=>{t.target.classList.contains("edit-task-button")?(console.log(`Edit button clicked for task: ${e.taskName}`),v.style.display="block",function(e){E.value=e.taskName,h.value=e.dueDate,b.value=e.priority,N.value=e.description,v.addEventListener("submit",(t=>{t.preventDefault();let n=E.value,o=h.value,c=b.value,r=N.value;e.taskName=n,e.dueDate=o,e.priority=c,e.description=r,console.log(e.taskName,e.dueDate,e.priority,e.description),P(),p(u)})),f.addEventListener("click",(()=>{P()}))}(e)):o.style.display="none"})),n.appendChild(t),n.appendChild(o)}function T(e){n.innerHTML="";for(let t=0;t<e.length;t++)g(e[t])}function P(){v.style.display="none"}(async()=>{r.addEventListener("click",(()=>{c.style.display="block"})),c.addEventListener("submit",(n=>{n.preventDefault();var c;c=e(l.value,[]),t.push(c),console.log(t),function(e){o.innerHTML="";for(let t=1;t<e.length;t++)d(e[t])}(t),s(),i()})),a.addEventListener("click",(()=>{i()})),y.addEventListener("click",(()=>{m.style.display="block"})),m.addEventListener("submit",(e=>{e.preventDefault();const n=function(e,t,n,o,c){return{taskName:e,dueDate:t,priority:n,description:o,project:c}}(q.value,L.value,S.value,j.value,D.value);!function(e){let n=e.project;for(let o=0;o<t.length;o++)n==t[o].projectName&&(t[o].tasks.push(e),console.log(t[o]),T(t[o].tasks))}(n),$()})),k.addEventListener("click",(()=>{$()}))})()})();